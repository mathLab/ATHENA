

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Active Subspaces &mdash; ATHENA 0.1.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="athena.active.ActiveSubspaces._bootstrap_replicate" href="_summaries/athena.active.ActiveSubspaces._bootstrap_replicate.html" />
    <link rel="prev" title="athena.subspaces.Subspaces.transform" href="_summaries/athena.subspaces.Subspaces.transform.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ATHENA
          

          
          </a>

          
            
            
              <div class="version">
                0.1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="code.html">Code Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="subspaces.html">Subspaces</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Active Subspaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._bootstrap_replicate.html">athena.active.ActiveSubspaces._bootstrap_replicate</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._build_decompose_cov_matrix.html">athena.active.ActiveSubspaces._build_decompose_cov_matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._compute_A_b.html">athena.active.ActiveSubspaces._compute_A_b</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._compute_bootstrap_ranges.html">athena.active.ActiveSubspaces._compute_bootstrap_ranges</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._hit_and_run_inactive.html">athena.active.ActiveSubspaces._hit_and_run_inactive</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._partition.html">athena.active.ActiveSubspaces._partition</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._rejection_sampling_inactive.html">athena.active.ActiveSubspaces._rejection_sampling_inactive</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._rotate_x.html">athena.active.ActiveSubspaces._rotate_x</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._sample_inactive.html">athena.active.ActiveSubspaces._sample_inactive</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.activity_scores.html">athena.active.ActiveSubspaces.activity_scores</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.fit.html">athena.active.ActiveSubspaces.fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.inverse_transform.html">athena.active.ActiveSubspaces.inverse_transform</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.plot_eigenvalues.html">athena.active.ActiveSubspaces.plot_eigenvalues</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.plot_eigenvectors.html">athena.active.ActiveSubspaces.plot_eigenvectors</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.plot_sufficient_summary.html">athena.active.ActiveSubspaces.plot_sufficient_summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.transform.html">athena.active.ActiveSubspaces.transform</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="feature_map.html">Feature Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="kas.html">Kernel Active Subspaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="nll.html">Nonlinear Level Set Learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="projection_factory.html">Projection Matrix Factory</a></li>
<li class="toctree-l2"><a class="reference internal" href="utils.html">Utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ATHENA</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="code.html">Code Documentation</a> &raquo;</li>
        
      <li>Active Subspaces</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/active.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-athena.active">
<span id="active-subspaces"></span><h1>Active Subspaces<a class="headerlink" href="#module-athena.active" title="Permalink to this headline">¶</a></h1>
<p>Active Subspaces module.</p>
<dl class="field-list simple">
<dt class="field-odd">References</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Paul Constantine. Active subspaces: Emerging ideas for dimension
reduction in parameter studies, vol. 2 of SIAM Spotlights, SIAM, 2015.</p></li>
<li><p>Constantine et al. Python Active-subspaces Utility Library,
Journal of Open Source Software, 1(5), 79, 2016.</p></li>
</ul>
</dd>
</dl>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._bootstrap_replicate.html#athena.active.ActiveSubspaces._bootstrap_replicate" title="athena.active.ActiveSubspaces._bootstrap_replicate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._bootstrap_replicate</span></code></a></p></td>
<td><p>Return a bootstrap replicate.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._build_decompose_cov_matrix.html#athena.active.ActiveSubspaces._build_decompose_cov_matrix" title="athena.active.ActiveSubspaces._build_decompose_cov_matrix"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._build_decompose_cov_matrix</span></code></a></p></td>
<td><p>Build and decompose the covariance matrix of the gradients.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._compute_A_b.html#athena.active.ActiveSubspaces._compute_A_b" title="athena.active.ActiveSubspaces._compute_A_b"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._compute_A_b</span></code></a></p></td>
<td><p>Compute the matrix A and the vector b to build a box around the inactive subspace for uniform sampling.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._compute_bootstrap_ranges.html#athena.active.ActiveSubspaces._compute_bootstrap_ranges" title="athena.active.ActiveSubspaces._compute_bootstrap_ranges"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._compute_bootstrap_ranges</span></code></a></p></td>
<td><p>Compute bootstrap ranges for eigenvalues and subspaces.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._hit_and_run_inactive.html#athena.active.ActiveSubspaces._hit_and_run_inactive" title="athena.active.ActiveSubspaces._hit_and_run_inactive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._hit_and_run_inactive</span></code></a></p></td>
<td><p>A hit and run method for sampling the inactive variables from a polytope.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._partition.html#athena.active.ActiveSubspaces._partition" title="athena.active.ActiveSubspaces._partition"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._partition</span></code></a></p></td>
<td><p>Partition the eigenvectors to define the active and inactive subspaces.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._rejection_sampling_inactive.html#athena.active.ActiveSubspaces._rejection_sampling_inactive" title="athena.active.ActiveSubspaces._rejection_sampling_inactive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._rejection_sampling_inactive</span></code></a></p></td>
<td><p>A rejection sampling method for sampling the from a polytope.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._rotate_x.html#athena.active.ActiveSubspaces._rotate_x" title="athena.active.ActiveSubspaces._rotate_x"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._rotate_x</span></code></a></p></td>
<td><p>A convenience function for rotating subspace coordinates to x space.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces._sample_inactive.html#athena.active.ActiveSubspaces._sample_inactive" title="athena.active.ActiveSubspaces._sample_inactive"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces._sample_inactive</span></code></a></p></td>
<td><p>Sample inactive variables.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.activity_scores.html#athena.active.ActiveSubspaces.activity_scores" title="athena.active.ActiveSubspaces.activity_scores"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.activity_scores</span></code></a></p></td>
<td><p>Return the activity scores as defined in Constantine and Diaz, Global sensitivity metrics from active subspaces, arxiv.org/abs/1510.04361 Equation (21).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.fit.html#athena.active.ActiveSubspaces.fit" title="athena.active.ActiveSubspaces.fit"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.fit</span></code></a></p></td>
<td><p>Compute the active subspaces given the gradients of the model function wrt the input parameters, or given the input/outputs couples.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.inverse_transform.html#athena.active.ActiveSubspaces.inverse_transform" title="athena.active.ActiveSubspaces.inverse_transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.inverse_transform</span></code></a></p></td>
<td><p>Map the points in the active variable space to the original parameter space.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.plot_eigenvalues.html#athena.active.ActiveSubspaces.plot_eigenvalues" title="athena.active.ActiveSubspaces.plot_eigenvalues"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.plot_eigenvalues</span></code></a></p></td>
<td><p>Plot the eigenvalues.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.plot_eigenvectors.html#athena.active.ActiveSubspaces.plot_eigenvectors" title="athena.active.ActiveSubspaces.plot_eigenvectors"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.plot_eigenvectors</span></code></a></p></td>
<td><p>Plot the eigenvectors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.plot_sufficient_summary.html#athena.active.ActiveSubspaces.plot_sufficient_summary" title="athena.active.ActiveSubspaces.plot_sufficient_summary"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.plot_sufficient_summary</span></code></a></p></td>
<td><p>Plot the sufficient summary.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="_summaries/athena.active.ActiveSubspaces.transform.html#athena.active.ActiveSubspaces.transform" title="athena.active.ActiveSubspaces.transform"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ActiveSubspaces.transform</span></code></a></p></td>
<td><p>Map full variables to active and inactive variables.</p></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt>
<em class="property">class </em><code class="sig-name descname">ActiveSubspaces</code><span class="sig-paren">(</span><em class="sig-param">dim</em>, <em class="sig-param">method='exact'</em>, <em class="sig-param">n_boot=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">athena.subspaces.Subspaces</span></code></p>
<p>Active Subspaces class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – dimension of the active subspace.</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><em>str</em></a>) – method to compute the AS. Possible choices are
‘exact’ when the gradients are provided, or ‘local’ to use local linear
models. This approach is related to the sufficient dimension reduction
method known sometimes as the outer product of gradient method. See the
2001 paper ‘Structure adaptive approach for dimension reduction’ from
Hristache, et al.</p></li>
<li><p><strong>n_boot</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – number of bootstrap samples. Default is 100.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt>
<code class="sig-name descname">_compute_A_b</code><span class="sig-paren">(</span><em class="sig-param">reduced_input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces._compute_A_b"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute the matrix A and the vector b to build a box around the
inactive subspace for uniform sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>reduced_input</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – the value of the active variables.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>matrix A, and vector b.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_frequent_directions</code><span class="sig-paren">(</span><em class="sig-param">gradients</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces._frequent_directions"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Function that performs the frequent directions algorithm for 
matrix sketching. For more details about the method, see
“Frequent directions: Simple and deterministic matrix
sketching.” Ghashami, Mina, et al.
SIAM Journal on Computing 45.5 (2016): 1762-1792.
doi: <a class="reference external" href="https://doi.org/10.1137/15M1009718">https://doi.org/10.1137/15M1009718</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>gradients</strong> (<em>iterable</em>) – generator for spatial gradients.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the sorted eigenvalues and the corresponding eigenvectors for
the reduced matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_hit_and_run_inactive</code><span class="sig-paren">(</span><em class="sig-param">reduced_input</em>, <em class="sig-param">n_points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces._hit_and_run_inactive"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A hit and run method for sampling the inactive variables from a
polytope.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduced_input</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – the value of the active variables.</p></li>
<li><p><strong>n_points</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of inactive variable samples.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n_points-by-(inactive_dim) matrix that contains values of the
inactive variable that correspond to the given <cite>reduced_input</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_rejection_sampling_inactive</code><span class="sig-paren">(</span><em class="sig-param">reduced_input</em>, <em class="sig-param">n_points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces._rejection_sampling_inactive"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A rejection sampling method for sampling the from a polytope.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduced_input</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – the value of the active variables.</p></li>
<li><p><strong>n_points</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of inactive variable samples.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n_points-by-inactive_dim matrix that contains values of the
inactive variable that correspond to the given <cite>reduced_input</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_rotate_x</code><span class="sig-paren">(</span><em class="sig-param">reduced_inputs</em>, <em class="sig-param">inactive_inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces._rotate_x"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>A convenience function for rotating subspace coordinates to x space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduced_input</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – the value of the active variables.</p></li>
<li><p><strong>inactive_inputs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – the value of the inactive
variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(n_samples * n_points)-by-n_params matrix that contains points
in the original parameter space, (n_samples * n_points)-by-n_params
matrix that contains integer indices. These indices identify which
rows of the previous matrix (the full parameters) map to which rows
of the active variables matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">_sample_inactive</code><span class="sig-paren">(</span><em class="sig-param">reduced_input</em>, <em class="sig-param">n_points</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces._sample_inactive"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Sample inactive variables.</p>
<p>Sample values of the inactive variables for a fixed value of the active
variables when the original variables are bounded by a hypercube.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduced_input</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – the value of the active variables.</p></li>
<li><p><strong>n_points</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of inactive variable samples,</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>n_points-by-(inactive_dim) matrix that contains values of the
inactive variable that correspond to the given <cite>reduced_input</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The trick here is to sample the inactive variables z so that
-1 &lt;= W1*y + W2*z &lt;= 1, where y is the given value of the active
variables. In other words, we need to sample z such that it respects
the linear inequalities W2*z &lt;= 1 - W1*y, -W2*z &lt;= 1 + W1*y. These
inequalities define a polytope in R^(inactive_dim). We want to
sample N points uniformly from the polytope. This function first
tries a simple rejection sampling scheme, which finds a bounding
hyperbox for the polytope, draws points uniformly from the bounding
hyperbox, and rejects points outside the polytope. If that method
does not return enough samples, the method tries a “hit and run”
method for sampling from the polytope. If that does not work, it
returns an array with <cite>N</cite> copies of a feasible point computed as the
Chebyshev center of the polytope.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">activity_scores</code></dt>
<dd><p>Return the activity scores as defined in Constantine and Diaz, Global
sensitivity metrics from active subspaces, arxiv.org/abs/1510.04361
Equation (21).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>array with the activity score of each parameter.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p>TypeError</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><cite>self.fit</cite> has to be called in advance.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">inputs=None</em>, <em class="sig-param">outputs=None</em>, <em class="sig-param">gradients=None</em>, <em class="sig-param">weights=None</em>, <em class="sig-param">metric=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces.fit"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Compute the active subspaces given the gradients of the model function
wrt the input parameters, or given the input/outputs couples. Only two
methods are available: ‘exact’ and ‘local’.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – input parameters oriented as rows.</p></li>
<li><p><strong>outputs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – corresponding outputs oriented as rows.</p></li>
<li><p><strong>gradients</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – n_samples-by-n_params matrix containing
the gradient samples oriented as rows. If frequent directions needed
to be performed, gradients is an object of GeneratorType.</p></li>
<li><p><strong>weights</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – n_samples-by-1 weight vector, corresponds
to numerical quadrature rule used to estimate matrix whose
eigenspaces define the active subspace.</p></li>
<li><p><strong>metric</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – metric matrix output_dim-by-output-dim for
vectorial active subspaces.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>TypeError</p>
</dd>
<dt class="field-odd">Example</dt>
<dd class="field-odd"><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># inputs shape is n_samples-by-n_params</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># outputs shape is n_samples-by-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># gradients shape is n_samples-by-n_params</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># if gradients are available use the &#39;exact&#39; method:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss1</span> <span class="o">=</span>  <span class="n">ActiveSubspaces</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;exact&#39;</span><span class="p">,</span> <span class="n">n_boot</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss1</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">gradients</span><span class="o">=</span><span class="n">gradients</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># for the frequent direction method to compute the eigenpairs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># you need to pass a generator to gradients:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gradients_gen</span> <span class="o">=</span> <span class="p">(</span><span class="n">grad</span> <span class="k">for</span> <span class="n">grad</span> <span class="ow">in</span> <span class="n">gradients</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss2</span> <span class="o">=</span>  <span class="n">ActiveSubspaces</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;exact&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">gradients</span><span class="o">=</span><span class="n">gradients_gen</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># if no gradients are available use the &#39;local&#39; method:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss3</span> <span class="o">=</span>  <span class="n">ActiveSubspaces</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;local&#39;</span><span class="p">,</span> <span class="n">n_boot</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ss3</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">inputs</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="n">outputs</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">inverse_transform</code><span class="sig-paren">(</span><em class="sig-param">reduced_inputs</em>, <em class="sig-param">n_points=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces.inverse_transform"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Map the points in the active variable space to the original parameter
space.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduced_inputs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – n_samples-by-dim matrix that
contains points in the space of active variables.</p></li>
<li><p><strong>n_points</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><em>int</em></a>) – the number of points in the original parameter
space that are returned that map to the given active variables.
Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(n_samples * n_points)-by-n_params matrix that contains
points in the original parameter space, (n_samples *
n_points)-by-n_params matrix that contains integer indices. These
indices identify which rows of the previous matrix (the full
parameters) map to which rows of the active variables matrix.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>TypeError</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The inverse map depends critically on the
<cite>self._sample_inactive</cite> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param">inputs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/athena/active.html#ActiveSubspaces.transform"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Map full variables to active and inactive variables.</p>
<p>Points in the original input space are mapped to the active and inactive
subspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inputs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)"><em>numpy.ndarray</em></a>) – array n_samples-by-n_params containing the
points in the original parameter space.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array n_samples-by-active_dim containing the mapped active
variables;
array n_samples-by-inactive_dim containing the mapped inactive
variables.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a>, <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.20)">numpy.ndarray</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>TypeError</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="_summaries/athena.active.ActiveSubspaces._bootstrap_replicate.html" class="btn btn-neutral float-right" title="athena.active.ActiveSubspaces._bootstrap_replicate" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="_summaries/athena.subspaces.Subspaces.transform.html" class="btn btn-neutral float-left" title="athena.subspaces.Subspaces.transform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright Copyright 2019-2021, Athena contributors.
      <span class="lastupdated">
        Last updated on May 05, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>